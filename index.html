<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan</title>
    <!-- <link rel="stylesheet" href="/dist/sakura.min.css"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=map" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=location_on" />
    <link href="https://fonts.googleapis.com/css2?family=Bad+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@1,500&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Dialog Ucapan Selamat Datang -->
    <div id="welcome-dialog" class="dialog-container">
        <div class="dialog-box">
            <img src="assets/img/prewed1.png" alt="foto1" class="cover-dialog">
            <p>Dengan penuh kebahagiaan, kami mengundang</p>
            <h2><span id="user-name"></span></h2>
            <p>untuk hadir dalam acara pernikahan kami</p>
            <h1>Dalilah & Rivan</h1>
            <p>7 Desember 2024</p>
            <p>Kami sangat berharap kehadiran Anda untuk merayakan kebahagiaan kami.</p>
            <button id="close-dialog">Buka</button>
        </div>
    </div>
    <!-- <div
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.01); pointer-events: none; z-index: 9999;"> -->

    <!-- Halaman Utama -->
    <section id="home">
        <h1>Undangan Pernikahan</h1>
        <h2>Rivan Prasetia & Dalilah</h2>
        <div id="sound-control">
            <img src="assets/icon/btn_stop.png" id="sound-icon">
            <audio id="background-music" loop>
                <source src="assets/sound/play.ogg" type="audio/ogg">
            </audio>
        </div>
        <div id="countdown">
            <p>Waktu Menuju Hari Bahagia</p>
            <div id="timer">
                <div><span id="days"></span><span> Hari</span></div>
                <div><span id="hours"></span><span> Jam</span></div>
                <div><span id="minutes"></span><span> Menit</span></div>
                <div><span id="seconds"></span><span> Detik</span></div>
            </div>
        </div>
    </section>
    <section id="home">
        <div id="arab-text">
            <p>
                وَاَنْكِحُوا الْاَيَامٰى مِنْكُمْ وَالصّٰلِحِيْنَ مِنْ عِبَادِكُمْ وَاِمَاۤىِٕكُمْۗ اِنْ
                يَّكُوْنُوْا
                فُقَرَاۤءَ يُغْنِهِمُ اللّٰهُ مِنْ فَضْلِهٖۗ وَاللّٰهُ وَاسِعٌ عَلِيْمٌ
            </p>
        </div>

        <div>
            <p>
                "Dan kawinkanlah orang-orang yang masih membujang di antara kamu, dan juga orang-orang yang layak
                (menikah)
                dari
                hamba-hamba sahayamu yang laki-laki dan perempuan. Jika mereka miskin, Allah akan memberikan
                kemampuan
                kepada
                mereka dengan karunia-Nya. Dan Allah Maha Luas (pemberian-Nya), Maha Mengetahui."
            </p>
            <p>
                QS. An-Nur: 32
            </p>
        </div>
    </section>
    <!-- Cerita Cinta -->
    <section id="story">
        <h2>Cerita Cinta Kami</h2>
        <div id="text1">
            <H1>Perkenalan</H1>
            <p>Tahun 2018 adalah tahun pertama kami berkenalan,
                Pada saat itu kami sedang bermain badminton.
            </p>
        </div>
        <div class="photo-card">
            <img src="assets/img/rivan.png" alt="Foto Anda" class="photo" style="display: blok;">
            <p><strong>Rivan Prasetia, S.Kom</strong></p>
        </div>
        <div id="text2">
            <H1>Awal hubungan</H1>
            <p>Pada bulan februari 2019 dia menyatakan perasaan nya kepada saya dan perjalanan hubungan kami
                hingga saat ini sudah hampir 5 tahun
            </p>
        </div>
        <div class="photo-card">
            <img src="assets/img/dalilah.png" alt="Foto Pasangan" class="photo" style="display: blok;">
            <p><strong>Dalilah</strong></p>
        </div>
        <div id="text3">
            <H1>Lamaran</H1>
            <p>
                Setelah waktu yang lama kami menjalin hubungan, awal mei 2024 dia membawa kedua orang tua nha untuk
                bertemu dengan kedua orang tua saya dan menyampaikan niat baik untuk menuju ke jenjang pernikahan
            </p>

        </div>


    </section>
        <!-- <div class="photo-section"></div> -->


    <!-- Informasi Acara -->
    <section id="event-info">
        <h2>Akad Nikah</h2>
        <p>07 Desember 2024 </p>
        <p>09:00 WIB - Selesai</p>
        <p>Masjid Jami Al-Ikhwan</p>
        <button class="button_action" id="button-action-akad">
            <span class="material-symbols-outlined">
                location_on
            </span>
            <span>Lihat Lokasi</span>
        </button>

        <h2>Resepsi Pernikahan</h2>
        <p>07 Desember 2024</p>
        <p>12:00 WIB - Selesai</p>
        <p>Gg swadaya 3 kp. Cerewed rt 03/07 kel duren jaya kec bekasi timur</p>

        <button class="button_action" id="button-action-resepsi">
            <span class="material-symbols-outlined">
                location_on
            </span>
            <span>Lihat Lokasi</span>
        </button>
    </section>

    <section id="map-locations">
        <h2>Lokasi</h2>
        <div class="map-container">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d991.5569977742442!2d107.027256!3d-6.2336482!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e698e94fcdc227b%3A0x61861c239cf9ce56!2sJl.%20Pahlawan%20No.4%2C%20RT.003%2FRW.007%2C%20Duren%20Jaya%2C%20Kec.%20Bekasi%20Tim.%2C%20Kota%20Bks%2C%20Jawa%20Barat%2017111!5e0!3m2!1sid!2sid!4v1732983888169!5m2!1sid!2sid"
                width="60" height="40" style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </section>

    <section id="bank-digital">
        <h2>Bank digital</h2>
        <div class="bank-container" style="background: #201b85d8;">
            <img src="assets/icon/Bank_BCA.png" alt="kartu-dalilah" id="img-logo-kartu">
            <p id="nomor1">7391893636</p>
            <img src="assets/icon/copy.png" id="copy-logo1">

        </div>
        <h3>Dalilah</h3>
        <div class="bank-container" style="background: #0c426cd8;">
            <img src="assets/icon/Bank_BJB.png" alt="kartu-rivan" id="img-logo-kartu">
            <p id="nomor2">0131756054100</p>
            <img src="assets/icon/copy.png" id="copy-logo2">
        </div>
        <h3>Rivan Prasetia</h3>
    </section>
    <section id="photo-slider">
        <h1>Galery</h1>
        <div class="slider-container">
            <div class="slider">
                <img src="assets/img/0.jpeg" alt="Foto Rivan">
                <img src="assets/img/1.jpeg" alt="Foto Dalilah">
                <img src="assets/img/2.jpeg" alt="Foto Couple">
                <img src="assets/img/3.jpeg" alt="Foto Couple">
                <img src="assets/img/4.jpeg" alt="Foto Couple">
                <img src="assets/img/5.jpeg" alt="Foto Couple">
            </div>
        </div>
    </section>



    <!-- Wedding Wish -->
    <section id="wedding-wish">
        <h2>Beri Ucapan Anda</h2>
        <form id="wish-form">
            <label for="name">Nama:</label>
            <input type="text" id="name" placeholder="Masukkan Nama Anda" required>
            <label for="message">Ucapan:</label>
            <textarea id="message" placeholder="Tulis Ucapan Anda" required></textarea>
            <button type="submit">Kirim Ucapan</button>
        </form>

        <!-- Wedding Wishes Display -->
        <div id="wishes-container">
            <h3>Ucapan dari Tamu</h3>
            <ul id="wishes-list" style="text-align: left;">
                <!-- Wishes will be displayed here -->
            </ul>
        </div>
    </section>
    <!-- </div> -->
    <script src="script.js"></script>

    <script>
        // URL Realtime Database
        const databaseURL = "https://invitation-ee6ac-default-rtdb.asia-southeast1.firebasedatabase.app/";

        // Fungsi menghitung waktu relatif
        function timeAgo(timestamp) {
            const now = new Date();
            const past = new Date(timestamp);
            const diff = Math.floor((now - past) / 1000); // Selisih dalam detik

            if (diff < 60) return `${diff} detik yang lalu`;
            if (diff < 3600) return `${Math.floor(diff / 60)} menit yang lalu`;
            if (diff < 86400) return `${Math.floor(diff / 3600)} jam yang lalu`;
            return `${Math.floor(diff / 86400)} hari yang lalu`;
        }

        // Tambahkan ucapan ke database
        document.getElementById("wish-form").addEventListener("submit", async (e) => {
            e.preventDefault();
            const name = document.getElementById("name").value;
            const message = document.getElementById("message").value;
            const timestamp = new Date();

            const data = {
                name: name,
                message: message,
                timestamp: timestamp.toISOString(),
            };

            try {
                await fetch(`${databaseURL}/wedding-wishes.json`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data),
                });
                alert("Ucapan berhasil dikirim!");
                document.getElementById("wish-form").reset();
                loadWishes(); // Refresh tampilan
            } catch (error) {
                console.error("Gagal mengirim ucapan:", error);
            }
        });

        // Memuat dan menampilkan ucapan
        async function loadWishes() {
            try {
                const response = await fetch(`${databaseURL}/wedding-wishes.json`);
                const data = await response.json();
                const wishesList = document.getElementById("wishes-list");
                wishesList.innerHTML = ""; // Bersihkan daftar sebelumnya

                if (data) {
                    Object.values(data).forEach((wish) => {
                        const listItem = document.createElement("li");
                        const relativeTime = timeAgo(wish.timestamp);
                        listItem.textContent = `${wish.name}: ${wish.message}, ${relativeTime}`;
                        wishesList.appendChild(listItem);
                    });
                }
            } catch (error) {
                console.error("Gagal memuat ucapan:", error);
            }
        }

        // Panggil fungsi loadWishes saat halaman dimuat
        loadWishes();
    </script>
</body>

</html>